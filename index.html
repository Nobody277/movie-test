<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Movie Night Player</title>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <style>
    :root { --bg-gradient: linear-gradient(135deg,#000,#2e003e); --fg: #e0e0e0; --accent: #9b00ff; --input-bg: #1a1a1a; --input-border: #3e003f; --card-shadow: rgba(0,0,0,0.7); }
    body { margin: 0; padding: 0; font-family: 'Roboto',sans-serif; background: var(--bg-gradient); color: var(--fg); display: flex; height: 100vh; overflow: hidden; }
    #mainContent { display: flex; flex: 1; }
    #videoSection { flex: 2; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 1rem; }
    #videoContainer { width: 100%; max-width: 900px; box-shadow: 0 4px 16px var(--card-shadow); border-radius: 8px; overflow: hidden; }
    #videoPlayer { width: 100%; height: auto; background: #000; }
    #controls { margin-top: 1rem; display: flex; gap: .5rem; }
    #videoURL { flex: 1; max-width: 600px; padding: .6rem 1rem; font-size: 1rem; border: 1px solid var(--input-border); border-radius: 6px; background: var(--input-bg); color: var(--fg); }
    #loadBtn { padding: .6rem 1.2rem; font-size: 1rem; border: none; border-radius: 6px; background: var(--accent); color: #fff; cursor: pointer; transition: transform .2s; }
    #loadBtn:hover { transform: scale(1.05); }
    #chatSidebar { flex: 1; max-width: 350px; background: rgba(0,0,0,0.5); backdrop-filter: blur(8px); display: flex; flex-direction: column; animation: slideIn 1s ease forwards; }
    #chatHeader { padding: 1rem; font-size: 1.2rem; border-bottom: 1px solid var(--input-border); }
    #chatMessages { flex: 1; overflow-y: auto; padding: 1rem; display: flex; flex-direction: column; gap: .75rem; }
    .chatMessage { padding: .5rem .75rem; background: rgba(255,255,255,0.1); border-radius: 6px; max-width: 80%; animation: fadeIn 0.5s ease; }
    #chatInputContainer { display: flex; padding: .75rem; border-top: 1px solid var(--input-border); }
    #chatInput { flex: 1; padding: .5rem .75rem; border: 1px solid var(--input-border); border-radius: 6px; background: var(--input-bg); color: var(--fg); }
    #sendBtn { margin-left: .5rem; padding: .5rem 1rem; border: none; border-radius: 6px; background: var(--accent); color: #fff; cursor: pointer; transition: transform .2s; }
    #sendBtn:hover { transform: scale(1.1); }
    @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>
<body>
  <div id="mainContent">
    <section id="videoSection">
      <div id="videoContainer">
        <video id="videoPlayer" controls preload="metadata" playsinline webkit-playsinline></video>
      </div>
      <div id="controls">
        <input id="videoURL" type="text" placeholder="Paste Video Url..." aria-label="Video URL">
        <button id="loadBtn">Load Video</button>
      </div>
    </section>
    <aside id="chatSidebar">
      <div id="chatHeader">Chat</div>
      <div id="chatMessages"></div>
      <div id="chatInputContainer">
        <input id="chatInput" type="text" placeholder="Type a messageâ€¦">
        <button id="sendBtn">Send</button>
      </div>
    </aside>
  </div>
  <script>
    const loadBtn=document.getElementById('loadBtn'),videoURLInput=document.getElementById('videoURL'),videoPlayer=document.getElementById('videoPlayer');
    let hls=null;
    loadBtn.addEventListener('click',()=>{const url=videoURLInput.value.trim();if(!url)return;if(hls){hls.destroy();hls=null;}videoPlayer.src='';videoPlayer.load();if(url.includes('.m3u8')&&Hls.isSupported()){hls=new Hls();hls.loadSource(url);hls.attachMedia(videoPlayer);}else{videoPlayer.src=url;}videoPlayer.play().catch(()=>{});
    });
    const chatInput=document.getElementById('chatInput'),sendBtn=document.getElementById('sendBtn'),chatMessages=document.getElementById('chatMessages');
    function appendMessage(text){const el=document.createElement('div');el.className='chatMessage';el.textContent=text;chatMessages.append(el);chatMessages.scrollTop=chatMessages.scrollHeight;}
    sendBtn.addEventListener('click',()=>{const txt=chatInput.value.trim();if(!txt)return;appendMessage(txt);chatInput.value='';});
    chatInput.addEventListener('keypress',e=>{if(e.key==='Enter'){sendBtn.click();e.preventDefault();}});
  </script>
</body>
</html>
